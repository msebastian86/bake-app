<form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
  <div class="btn-group mb-3">
    <button 
      class="btn btn-success" 
      type="submit"
      [disabled]="!recipeForm.valid">Save</button>
    <button 
      class="btn btn-danger" 
      type="button"
      (click)="onCancel()">Cancel</button>
  </div>

  <div class="form-group">
    <label for="name">Name</label>
    <input 
      type="text" 
      id="name"
      formControlName="name"
      class="form-control">
    </div>
    
    <div class="form-group">
      <label for="imagePath">Image URL</label>
      <input 
      type="text" 
      id="imagePath" 
      formControlName="imagePath"
      class="form-control"
      #imagePath>
    </div>
    
    <img [src]="imagePath.value" alt="" class="img-responsive" style="max-width: 200px;">
    
    <div class="form-group">
      <label for="description">Description</label>
      <textarea 
      type="text" 
      id="description" 
      formControlName="description"
      class="form-control"
      rows="6">
    </textarea>
  </div>

  <div formArrayName="ingredients">
    <div 
      class="row mt-4"
      *ngFor="let ingredientCtrl of recipeForm.get('ingredients').value; let i = index"
      [formGroupName]="i"
      >
        <div class="col-7">
          <input 
            type="text" 
            class="form-control"
            formControlName="name">
        </div>
        <div class="col-3 pl-0 pr-0">
          <input 
            type="number" 
            class="form-control"
            formControlName="amount">
        </div>
        <div class="col-2">
          <button 
            type="button"
            class="btn btn-danger" 
            (click)="onDeleteIngredient(i)">X</button>
        </div>
    </div>
    <hr/>
    <button 
      type="button"
      class="btn btn-success" 
      (click)="onAddIngredient()">Add Ingredient</button>
  </div>


</form>

